<!DOCTYPE html>
<html>

<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/style.css">
</head>

<body class="index-page boost-launch">
  <section class="fill-height mark-canvas">
    <div class="logo-wrapper">
      <img src="img/logo.gif"/>
    </div>

    <header class="header-bar">
      <div class="social-icons">
        <ul>
          <li><i class="fa fa-twitter fa-2x"></i></li>
          <li><i class="fa fa-github fa-2x"></i></li>
          <li><i class="fa fa-soundcloud fa-2x"></i></li>
          <li><i class="fa fa-instagram fa-2x"></i></li>
        </ul>
      </div>
      <div class="header-cta">
        <a class="button button-pill" href="#my-builds">B U I L D S</a>
      </div>
    </header>
  </section>

  <section class="scrollable fill-height">
    <div id="my-builds" class="my-builds">
      <div class='build-left-block'>
        <span></span><h1>John Mookenmyer<h1>
        <h3>BLA / BLA LA, CA<h3>
        <h3>blabla@blabla.com</h3>
      </div>
      <div class='build-right-block'>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
        <p>www.blabla.com</p>
      </div>
      <div class='cta-button'>
        <button>Make your president knowledge</button>
      </div>
    </div>
  </section>
</body>

<script>

var scrollPosition = window.scrollY;
var windowHeight = window.innerHeight;
var scrollPercentage = 200 / windowHeight;
console.log(scrollPercentage);
var topElement = $('.mark-canvas');
var upperNavigation = $('.header-bar');
var limit = windowHeight - 100;

// function to change limit to window height after resize
$(window).resize(function(){
  windowHeight = $(window).height();
  limit = windowHeight - 100 ;
})

// function to change opacity upon scroll based on limit
$(window).on('scroll', function() {
   var st = $(this).scrollTop();
   if (st <= limit) {
      topElement.css({ 'opacity' : (1 - st/limit) });
   }
})

//function to get the change between scroll positions
var scrollPosition = document.scrollingElement.scrollTop;
function scrollDelta() {
  var newScrollPosition = document.scrollingElement.scrollTop;
  var delta = newScrollPosition - scrollPosition;
  scrollPosition = document.scrollingElement.scrollTop;
  return delta;
}

//funciton to edit the z axis of the element
var boxPositions = [0,0,0];
function moveCamera () {
  var boxes = document.getElementsByClassName("header-bar");
  var delta = scrollDelta();
  for (var i=0, l=boxes.length; i<l; i++) {
    boxPositions[i] += delta;
    boxes[i].style["-webkit-transform"] = "translateZ("+boxPositions[i]+"px)";
  }
}
window.addEventListener("scroll", moveCamera, false);

</script>
<html>
